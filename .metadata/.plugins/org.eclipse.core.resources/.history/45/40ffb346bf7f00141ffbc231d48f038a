package ie.dit.naylor.mark;

import java.io.IOException;
import java.security.Principal;
import java.util.ArrayList;

import com.google.appengine.api.blobstore.BlobKey;
import com.google.appengine.api.blobstore.BlobstoreServiceFactory;
import com.google.appengine.api.users.UserService;
import com.google.appengine.api.users.UserServiceFactory;

import javax.servlet.http.*;

import org.datanucleus.store.types.sco.backed.Map;

@SuppressWarnings("serial")
public class ViewServlet extends HttpServlet 
{
	private com.google.appengine.api.blobstore.BlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService();
	public static ArrayList<File> files = DownloadServlet.files;
	public void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException 
	{
		for (int i = 0; i < files.size(); i++)
		{
			resp.getWriter().println("<p>View <a href=\"serve?blob-key=" + files.get(i).getBlobKey().toString().trim() + "\">" + files.get(i).getFileName() + "</a>.</p>");
		}
	}
}